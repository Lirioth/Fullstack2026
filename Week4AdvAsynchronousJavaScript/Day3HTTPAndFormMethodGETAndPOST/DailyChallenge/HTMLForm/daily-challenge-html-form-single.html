<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Daily Challenge ‚Äî HTML Form (Single File)</title>

  <style>
    :root{
      --bg:#0f172a; --panel:#0b1220; --ink:#e5e7eb; --muted:#94a3b8;
      --accent:#22d3ee; --accent-2:#64748b; --radius:14px;
    }
    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0; background:var(--bg); color:var(--ink);
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji", "Segoe UI Emoji";
    }
    .wrap{ max-width:720px; margin:36px auto; padding:0 16px; }
    .muted{ color:var(--muted); }
    .card{
      background:var(--panel); border:1px solid #1f2937; border-radius:var(--radius);
      padding:18px; margin:14px 0;
    }
    label{ display:block; margin:10px 0 6px; font-weight:600; }
    input[type="text"]{
      width:100%; padding:10px 12px; border-radius:10px; border:1px solid #273042;
      background:#0b1220; color:#fff;
    }
    .actions{ margin-top:14px; display:flex; gap:10px; }
    .btn{
      background:var(--accent); color:#001018; border:0; padding:10px 14px;
      border-radius:10px; cursor:pointer; font-weight:800;
    }
    .btn.secondary{ background:var(--accent-2); color:#e2e8f0; }
    .log{ margin:0; padding-left:20px; }
    .log li{ margin:8px 0; }
    .log pre{
      margin:4px 0 0; padding:8px; background:#0b1220; border:1px solid #1f2937;
      border-radius:8px; overflow:auto;
    }
    .timestamp{ font-size:12px; color:#9aa4b5; }
  </style>
</head>
<body>
  <main class="wrap">
    <header>
      <h1>üìù Daily Challenge: HTML Form</h1>
      <p class="muted">Goal: collect two fields and append the JSON string to the page. No page reload required.</p>
    </header>

    <!-- Form: name, last name, submit -->
    <section class="card">
      <form id="userForm" novalidate>
        <label for="name">Name</label>
        <input id="name" name="name" type="text" placeholder="Ada" />

        <label for="lastname">Last name</label>
        <input id="lastname" name="lastname" type="text" placeholder="Lovelace" />

        <div class="actions">
          <button type="submit" class="btn">Send</button>
          <button type="button" id="clear" class="btn secondary">Clear Output</button>
        </div>
      </form>
    </section>

    <!-- Output section: each submission appends one JSON string -->
    <section class="card">
      <h2>üì§ Output</h2>
      <ol id="log" class="log" aria-live="polite" aria-label="Submission log"></ol>
    </section>

    <footer class="muted">
      <p>Made for practice ‚Äî HTTP, Forms, and JSON. ‚úÖ</p>
    </footer>
  </main>

  <script>
    // Daily Challenge ‚Äî HTML Form (single-file JS)
    // Requirements:
    // - Build a form with name and last name fields + submit button
    // - On Send, read the inputs and append a JSON string to the DOM

    // Grab references once
    const form = document.getElementById('userForm');
    const log = document.getElementById('log');
    const clearBtn = document.getElementById('clear');

    // Create an element helper
    function el(tag, text, className){
      const n = document.createElement(tag);
      if (text != null) n.textContent = text;
      if (className) n.className = className;
      return n;
    }

    // Append one JSON entry to the log
    function appendJsonEntry(obj){
      const li = document.createElement('li');

      // Optional small timestamp (handy when submitting multiple times)
      const stamp = new Date().toLocaleTimeString();
      li.appendChild(el('div', 'Submitted at ' + stamp, 'timestamp'));

      // Show the JSON string (single line) ‚Äî this satisfies the main requirement
      const jsonStr = JSON.stringify(obj);
      const pre = document.createElement('pre');
      pre.textContent = jsonStr;
      li.appendChild(pre);

      // Also show pretty-printed JSON for readability (educational bonus)
      const pretty = document.createElement('pre');
      pretty.textContent = JSON.stringify(obj, null, 2);
      pretty.setAttribute('aria-label', 'Pretty JSON');
      li.appendChild(pretty);

      log.appendChild(li);
    }

    // Handle the form submit without navigation
    form.addEventListener('submit', (e) => {
      e.preventDefault(); // prevent page reload

      // Gather values using FormData then turn into a plain object
      const data = new FormData(form);
      const obj = Object.fromEntries(data.entries());

      // Build the payload strictly with the two fields
      const payload = {
        name: obj.name ?? '',
        lastname: obj.lastname ?? ''
      };

      appendJsonEntry(payload);
    });

    // Clear the output list
    clearBtn.addEventListener('click', () => {
      log.innerHTML = '';
    });
  </script>
</body>
</html>
